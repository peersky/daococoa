export const meta = {
  author: "Tim Pechersky",
  date: "2023-04-30",
  title: "Private agenda setters with account abstraction and ZKP",
  description: "",
  tags: ["account abstraction", "ideas", "governance", "ZK"],
  path: "aa-for-private-proposals",
};

# {meta.title}

One of the most common problems in the governance on public blockchain are the privacy concerns. Existing governance solutions while amazingly transparent are not sufficient for building secure governance trough voting processes and this article is an airplane brain-breeze on topic how AA and especially EIP-4337 can contribute towards this.

## Motivation

Robust and cryptographically safe means to ensure private vote submissions exist today - ZKP's. However, the voting itself is just a one component of a larger **governance process**. It actually all starts with setting agenda - a governance proposal that can be voted on.

Today proposals are generally submitted as signed by proposer whose identity (signer address) is not kept secret.

While not discussed broadly as a large problem, this actually is a red flag for any applications or governance processes where proposer must be kept private. Hence I m looking at a solutions which would ensure that proposer reputation does not create a voting bias as well as grant some level anonymity for a proposer.

## How can we solve this with use of Account abstraction and ZKPs?

Let's assume Alice is a member of some Organization, where she has a legitimate power create organization wide proposal.

Alice wants to submit a proposal which she is very shy of. For example proposal is to _extend weekend days to Monday_. Such to some extend can upset some people, and she would prefer to submit this privately. If she might want later to let world know the Hero - she would like to have also an opportunity to generate a proof, whenever she wants, that she is a proposer.

If organization wants to support such private proposal submissions in a decentralized manner, it only needs to setup a proper paymaster account that will agree to pay bundlers for submitting transactions that will not revert (have valid proof).

Now Alice can do following:

1. With use of ZKPs Alice can generate proof that she is legitimate proposer
2. Create random account that has not been used ever before and store it's private key safely
3. Create `userOperation` with proposal, proof, nullifier allowing her to claim later that vote is her, and a paymaster contract address, that would pay her transaction fees
4. Send this transactions to transaction Bundler(s)

VOILA! Now on chain voting can happen! It will be visible what proposal is as well as the, proof of legitimate proposer can be verified directly on-chain.

If later Alice wants to become known, all she needs to do is to take that EOA that she used to submit proposal and her publicly known EOA and create a double signature on a message stating she is the proposer.

## Little more technical

Technical implementation actually is very similar to a famous project starting with T letter :tornado: :dollar:.

Being the legitimate proposer can be proven as proof as being a leaf in a merkle tree, hence verifying contract needs only to know the root hash. While special nullifierHash can be used to support cases when only one proposal is allowed per proposer. Same nullifier can be used later if proposer wants to prove his ownership over proposal, for sake of this the address of proposer can be a part of nullifier, so it can be submitted by anyone and is frontrun safe.

This approach will require either some constraints on how fast the set of proposers allowed to change, either a historical root hashes lookup.

Sounds interesting? Discuss in a [twitter thread](twitter.com/iampeersky)
